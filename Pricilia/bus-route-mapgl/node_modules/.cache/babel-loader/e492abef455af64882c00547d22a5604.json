{"ast":null,"code":"import { createContext as t, createElement as e, PureComponent as o, Children as r, cloneElement as n, createRef as i } from \"react\";\nimport { createPortal as a } from \"react-dom\";\n\nfunction s(t, e, o) {\n  return e in t ? Object.defineProperty(t, e, {\n    value: o,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : t[e] = o, t;\n}\n\nfunction u() {\n  return (u = Object.assign || function (t) {\n    for (var e = 1; e < arguments.length; e++) {\n      var o = arguments[e];\n\n      for (var r in o) Object.prototype.hasOwnProperty.call(o, r) && (t[r] = o[r]);\n    }\n\n    return t;\n  }).apply(this, arguments);\n}\n\nfunction p(t, e) {\n  t.prototype = Object.create(e.prototype), t.prototype.constructor = t, t.__proto__ = e;\n}\n\nfunction l(t, e) {\n  if (null == t) return {};\n  var o,\n      r,\n      n = {},\n      i = Object.keys(t);\n\n  for (r = 0; r < i.length; r++) o = i[r], e.indexOf(o) >= 0 || (n[o] = t[o]);\n\n  return n;\n}\n\nfunction c(t) {\n  if (void 0 === t) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return t;\n}\n\nfunction d(t) {\n  return function (t) {\n    if (Array.isArray(t)) {\n      for (var e = 0, o = new Array(t.length); e < t.length; e++) o[e] = t[e];\n\n      return o;\n    }\n  }(t) || function (t) {\n    if (Symbol.iterator in Object(t) || \"[object Arguments]\" === Object.prototype.toString.call(t)) return Array.from(t);\n  }(t) || function () {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n  }();\n}\n\nvar h = t(null),\n    m = !(\"[object process]\" === Object.prototype.toString.call(global.process) && !global.process.browser) ? require(\"mapbox-gl\") : null,\n    f = [\"resize\", \"remove\", \"mousedown\", \"mouseup\", \"mouseover\", \"mousemove\", \"click\", \"dblclick\", \"mouseenter\", \"mouseleave\", \"mouseout\", \"contextmenu\", \"touchstart\", \"touchend\", \"touchmove\", \"touchcancel\", \"movestart\", \"move\", \"moveend\", \"dragstart\", \"drag\", \"dragend\", \"zoomstart\", \"zoom\", \"zoomend\", \"rotatestart\", \"rotate\", \"rotateend\", \"pitchstart\", \"pitch\", \"pitchend\", \"boxzoomstart\", \"boxzoomend\", \"boxzoomcancel\", \"webglcontextlost\", \"webglcontextrestored\", \"load\", \"error\", \"data\", \"styledata\", \"sourcedata\", \"dataloading\", \"styledataloading\", \"sourcedataloading\"],\n    g = function (t, e) {\n  void 0 === t && (t = {}), void 0 === e && (e = {});\n  var o = new Set([].concat(d(Object.keys(t)), d(Object.keys(e))));\n  return d(o).reduce(function (o, r) {\n    var n = t[r];\n    return n !== e[r] && o.push([r, n]), o;\n  }, []);\n},\n    _ = function (t, e, o, r) {\n  var n = {\n    layers: [e]\n  };\n\n  if (r) {\n    var i = [[o[0] - r, o[1] - r], [o[0] + r, o[1] + r]];\n    return t.queryRenderedFeatures(i, n);\n  }\n\n  return t.queryRenderedFeatures(o, n);\n},\n    v = [[\"onClick\", \"click\"], [\"onHover\", \"mousemove\"], [\"onEnter\", \"mouseenter\"], [\"onLeave\", \"mouseleave\"]],\n    y = function (t) {\n  function o(e) {\n    var o;\n    return s(c(o = t.call(this, e) || this), \"$key\", void 0), s(c(o), \"$value\", void 0), s(c(o), \"_id\", void 0), s(c(o), \"_map\", void 0), s(c(o), \"_onClick\", void 0), s(c(o), \"_onHover\", void 0), s(c(o), \"_onEnter\", void 0), s(c(o), \"_onLeave\", void 0), s(c(o), \"_onClick\", function (t) {\n      var e = [t.point.x, t.point.y],\n          r = _(o._map, o._id, e, o.props.radius);\n\n      o.props.onClick(u({}, t, {\n        features: r\n      }));\n    }), s(c(o), \"_onHover\", function (t) {\n      var e = [t.point.x, t.point.y],\n          r = _(o._map, o._id, e, o.props.radius);\n\n      o.props.onHover(u({}, t, {\n        features: r\n      }));\n    }), s(c(o), \"_onEnter\", function (t) {\n      var e = [t.point.x, t.point.y],\n          r = _(o._map, o._id, e, o.props.radius);\n\n      o.props.onEnter(u({}, t, {\n        features: r\n      }));\n    }), s(c(o), \"_onLeave\", function (t) {\n      var e = [t.point.x, t.point.y],\n          r = _(o._map, o._id, e, o.props.radius);\n\n      o.props.onLeave(u({}, t, {\n        features: r\n      }));\n    }), o._id = e.id, o;\n  }\n\n  p(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    var t = this._map,\n        e = this.props,\n        o = e.before,\n        r = (e.radius, e.onClick),\n        n = e.onHover,\n        i = e.onEnter,\n        a = e.onLeave,\n        s = l(e, [\"before\", \"radius\", \"onClick\", \"onHover\", \"onEnter\", \"onLeave\"]);\n    o && t.getLayer(o) ? t.addLayer(s, o) : t.addLayer(s), r && t.on(\"click\", this._id, this._onClick), n && t.on(\"mousemove\", this._id, this._onHover), i && t.on(\"mouseenter\", this._id, this._onEnter), a && t.on(\"mouseleave\", this._id, this._onLeave);\n  }, r.componentDidUpdate = function (t) {\n    var e = this,\n        o = this._map,\n        r = this.props,\n        n = r.before,\n        i = (r.onClick, l(r, [\"before\", \"onClick\"]));\n    n !== t.before && o.moveLayer(i.id, n), i.paint !== t.paint && g(i.paint, t.paint).forEach(function (t) {\n      var r = t[0],\n          n = t[1];\n      o.setPaintProperty(e._id, r, n);\n    }), i.layout !== t.layout && g(i.layout, t.layout).forEach(function (t) {\n      var r = t[0],\n          n = t[1];\n      o.setLayoutProperty(e._id, r, n);\n    }), i.filter !== t.filter && (i.filter ? o.setFilter(this._id, i.filter) : o.setFilter(this._id, void 0)), v.forEach(function (r) {\n      var n = r[0],\n          i = r[1],\n          a = \"_\" + n;\n      !e.props[n] && t[n] && o.off(i, e._id, e[a]), e.props[n] && !t[n] && o.on(i, e._id, e[a]);\n    });\n  }, r.componentWillUnmount = function () {\n    var t = this;\n    this._map && this._map.getStyle() && this._map.getLayer(this._id) && (v.forEach(function (e) {\n      var o = e[0],\n          r = e[1],\n          n = \"_\" + o;\n      t.props[o] && t._map.off(r, t._id, t[n]);\n    }), this._map.removeLayer(this._id));\n  }, r.render = function () {\n    var t = this;\n    return e(h.Consumer, {}, function (e) {\n      return e && (t._map = e), null;\n    });\n  }, o;\n}(o);\n\ns(y, \"displayName\", \"Layer\"), s(y, \"defaultProps\", {\n  radius: 0\n});\n\nvar b = function (t) {\n  function o() {\n    for (var e, o = arguments.length, r = new Array(o), n = 0; n < o; n++) r[n] = arguments[n];\n\n    return s(c(e = t.call.apply(t, [this].concat(r)) || this), \"_id\", void 0), s(c(e), \"_map\", void 0), e;\n  }\n\n  p(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    var t = this.props,\n        e = t.layer,\n        o = t.before;\n    o && this._map.getLayer(o) ? this._map.addLayer(e, o) : this._map.addLayer(e), this._id = e.id;\n  }, r.componentWillUnmount = function () {\n    this._map && this._map.getStyle() && this._map.getLayer(this._id) && this._map.removeLayer(this._id);\n  }, r.render = function () {\n    var t = this;\n    return e(h.Consumer, {}, function (e) {\n      return e && (t._map = e), null;\n    });\n  }, o;\n}(o);\n\ns(b, \"displayName\", \"CustomLayer\");\n\nvar L = function (t) {\n  return r.toArray(t).filter(Boolean).reduce(function (t, e, o) {\n    var r = t.previousLayerIndex;\n\n    if (e.type === y || e.type === b) {\n      if (r) {\n        var i = function (t) {\n          return t.type === b ? t.props.layer.id : t.props.id;\n        }(e),\n            a = t.children[r],\n            s = a.props.before || i,\n            u = n(a, {\n          before: s\n        });\n\n        t.children[r] = u;\n      }\n\n      t.previousLayerIndex = o;\n    }\n\n    return t.children.push(e), t;\n  }, {\n    children: [],\n    previousLayerIndex: void 0\n  }).children;\n};\n\nvar C = function (t) {\n  return t.charAt(0).toUpperCase() + t.slice(1);\n},\n    S = function (t) {\n  function o(e) {\n    var o;\n    return s(c(o = t.call(this, e) || this), \"_map\", void 0), s(c(o), \"_container\", void 0), s(c(o), \"_onViewportChange\", void 0), s(c(o), \"state\", {\n      loaded: !1\n    }), s(c(o), \"_onViewportChange\", function (t) {\n      if (t.originalEvent) {\n        var e = o._map,\n            r = e.getCenter(),\n            n = r.lng,\n            i = {\n          latitude: r.lat,\n          longitude: n,\n          zoom: e.getZoom(),\n          pitch: e.getPitch(),\n          bearing: e.getBearing()\n        };\n        o.props.onViewportChange(i);\n      }\n    }), m && (m.accessToken = e.accessToken), o._container = i(), o;\n  }\n\n  p(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    var t = this;\n\n    if (m) {\n      var e = this._container.current,\n          o = new m.Map({\n        container: e,\n        style: this.props.mapStyle,\n        interactive: !!this.props.onViewportChange,\n        center: [this.props.longitude, this.props.latitude],\n        zoom: this.props.zoom,\n        pitch: this.props.pitch,\n        bearing: this.props.bearing,\n        minZoom: this.props.minZoom,\n        maxZoom: this.props.maxZoom,\n        hash: this.props.hash,\n        bearingSnap: this.props.bearingSnap,\n        pitchWithRotate: this.props.pitchWithRotate,\n        attributionControl: this.props.attributionControl,\n        logoPosition: this.props.logoPosition,\n        failIfMajorPerformanceCaveat: this.props.failIfMajorPerformanceCaveat,\n        preserveDrawingBuffer: this.props.preserveDrawingBuffer,\n        refreshExpiredTiles: this.props.refreshExpiredTiles,\n        maxBounds: this.props.maxBounds,\n        scrollZoom: this.props.scrollZoom,\n        boxZoom: this.props.boxZoom,\n        dragRotate: this.props.dragRotate,\n        dragPan: this.props.dragPan,\n        keyboard: this.props.keyboard,\n        doubleClickZoom: this.props.doubleClickZoom,\n        trackResize: this.props.trackResize,\n        renderWorldCopies: this.props.renderWorldCopies,\n        maxTileCacheSize: this.props.maxTileCacheSize,\n        localIdeographFontFamily: this.props.localIdeographFontFamily,\n        transformRequest: this.props.transformRequest,\n        collectResourceTiming: this.props.collectResourceTiming\n      });\n      this._map = o, o.on(\"styledata\", function () {\n        return t.setState({\n          loaded: !0\n        });\n      }), o.once(\"load\", function () {\n        t.setState({\n          loaded: !0\n        }, t.props.onLoad);\n      }), this.props.onViewportChange && (o.on(\"dragend\", this._onViewportChange), o.on(\"zoomend\", this._onViewportChange), o.on(\"rotateend\", this._onViewportChange), o.on(\"pitchend\", this._onViewportChange), o.on(\"boxzoomend\", this._onViewportChange)), f.forEach(function (e) {\n        var r = \"on\" + C(e);\n        t.props[r] && o.on(e, t.props[r]);\n      }), this.props.cursorStyle && (o.getCanvas().style.cursor = this.props.cursorStyle);\n    }\n  }, r.componentDidUpdate = function (t) {\n    this._updateMapViewport(t, this.props), this._updateMapStyle(t, this.props), !t.cursorStyle !== this.props.cursorStyle && (this._map.getCanvas().style.cursor = this.props.cursorStyle);\n  }, r.componentWillUnmount = function () {\n    this._map && this._map.remove();\n  }, r.getMap = function () {\n    return this._map;\n  }, r._updateMapStyle = function (t, e) {\n    var o = this,\n        r = e.mapStyle,\n        n = t.mapStyle;\n    r !== n && this.setState({\n      loaded: !1\n    }, function () {\n      return o._map.setStyle(r);\n    });\n  }, r._updateMapViewport = function (t, e) {\n    var o = this._map,\n        r = o.getCenter();\n\n    if (e.latitude !== t.latitude && e.latitude !== r.lat || e.longitude !== t.longitude && e.longitude !== r.lng || e.zoom !== t.zoom && e.zoom !== o.getZoom() || e.pitch !== t.pitch && e.pitch !== o.getPitch() || e.bearing !== t.bearing && e.bearing !== o.getBearing()) {\n      var n = {\n        center: [e.longitude, e.latitude],\n        zoom: e.zoom,\n        pitch: e.pitch,\n        bearing: e.bearing\n      },\n          i = this.props,\n          a = i.viewportChangeMethod,\n          s = u({}, i.viewportChangeOptions, n);\n\n      switch (a) {\n        case \"flyTo\":\n          o.flyTo(s);\n          break;\n\n        case \"jumpTo\":\n          o.jumpTo(s);\n          break;\n\n        case \"easeTo\":\n          o.easeTo(s);\n          break;\n\n        default:\n          throw new Error(\"Unknown viewport change method\");\n      }\n    }\n  }, r.render = function () {\n    var t = this.state.loaded,\n        o = this.props,\n        r = o.className,\n        n = o.style,\n        i = this.props.children ? L(this.props.children) : null;\n    return e(h.Provider, {\n      value: this._map\n    }, e(\"div\", {\n      ref: this._container,\n      style: n,\n      className: r\n    }, t && i));\n  }, o;\n}(o);\n\ns(S, \"displayName\", \"MapGL\"), s(S, \"defaultProps\", {\n  children: null,\n  className: null,\n  style: null,\n  mapStyle: \"mapbox://styles/mapbox/light-v8\",\n  accessToken: null,\n  bearing: 0,\n  pitch: 0,\n  minZoom: 0,\n  maxZoom: 22,\n  maxBounds: null,\n  hash: !1,\n  bearingSnap: 7,\n  pitchWithRotate: !0,\n  attributionControl: !0,\n  logoPosition: \"bottom-left\",\n  failIfMajorPerformanceCaveat: !1,\n  preserveDrawingBuffer: !1,\n  refreshExpiredTiles: !0,\n  boxZoom: !0,\n  scrollZoom: !0,\n  dragRotate: !0,\n  dragPan: !0,\n  keyboard: !0,\n  doubleClickZoom: !0,\n  trackResize: !0,\n  renderWorldCopies: !0,\n  maxTileCacheSize: null,\n  onViewportChange: null,\n  onLoad: null,\n  localIdeographFontFamily: null,\n  transformRequest: null,\n  collectResourceTiming: !1,\n  cursorStyle: null,\n  viewportChangeMethod: \"jumpTo\",\n  viewportChangeOptions: null\n});\n\nvar w = function (t) {\n  switch (t.type) {\n    case \"vector\":\n      return u({\n        type: \"vector\"\n      }, t);\n\n    case \"raster\":\n      return u({\n        type: \"raster\"\n      }, t);\n\n    case \"raster-dem\":\n      return u({\n        type: \"raster-dem\"\n      }, t);\n\n    case \"geojson\":\n      return u({\n        type: \"geojson\"\n      }, t);\n\n    case \"video\":\n      return u({\n        type: \"video\"\n      }, t);\n\n    case \"image\":\n      return u({\n        type: \"image\"\n      }, t);\n\n    default:\n      throw new Error(\"Unknown type for '\" + t.id + \"' Source\");\n  }\n},\n    k = function (t) {\n  function o() {\n    for (var e, o = arguments.length, r = new Array(o), n = 0; n < o; n++) r[n] = arguments[n];\n\n    return s(c(e = t.call.apply(t, [this].concat(r)) || this), \"_map\", void 0), s(c(e), \"state\", {\n      loaded: !1\n    }), s(c(e), \"_onSourceData\", function () {\n      e._map.isSourceLoaded(e.props.id) && (e._map.off(\"sourcedata\", e._onSourceData), e.setState({\n        loaded: !0\n      }));\n    }), s(c(e), \"_updateGeoJSONSource\", function (t, o, r) {\n      r.data !== o.data && e._map.getSource(t).setData(r.data);\n    }), s(c(e), \"_updateVectorSource\", function (t, o, r) {\n      var n = e._map.getSource(t);\n\n      n._tileJSONRequest && n._tileJSONRequest.cancel(), n.url = r.url, n.scheme = r.scheme, n._options = u({}, n._options, r);\n      var i = e._map.style.sourceCaches[t];\n      i && i.clearTiles(), n.load();\n    }), s(c(e), \"_removeSource\", function () {\n      var t = e.props.id;\n\n      if (e._map.getSource(t)) {\n        var o = e._map.getStyle().layers;\n\n        o && o.forEach(function (o) {\n          o.source === t && e._map.removeLayer(o.id);\n        }), e._map.removeSource(t);\n      }\n    }), e;\n  }\n\n  p(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    var t = w(this.props),\n        e = t.id,\n        o = (t.children, l(t, [\"id\", \"children\"]));\n    this._map.addSource(e, o), this._map.on(\"sourcedata\", this._onSourceData);\n  }, r.componentDidUpdate = function (t) {\n    var e = w(t),\n        o = e.id,\n        r = (e.children, l(e, [\"id\", \"children\"])),\n        n = w(this.props),\n        i = n.id,\n        a = (n.children, l(n, [\"id\", \"children\"]));\n    if (i !== o || a.type !== r.type) return this._map.removeSource(o), void this._map.addSource(i, a);\n    \"geojson\" !== a.type || \"geojson\" !== r.type ? \"vector\" === a.type && \"vector\" === r.type && this._updateVectorSource(i, r, a) : this._updateGeoJSONSource(i, r, a);\n  }, r.componentWillUnmount = function () {\n    this._map && this._map.getStyle() && this._removeSource();\n  }, r.render = function () {\n    var t = this,\n        o = this.state.loaded,\n        r = this.props.children ? L(this.props.children) : null;\n    return e(h.Consumer, {}, function (e) {\n      return e && (t._map = e), o && r;\n    });\n  }, o;\n}(o);\n\ns(k, \"displayName\", \"Source\");\n\nvar x = function (t) {\n  function o(e) {\n    var o;\n    return s(c(o = t.call(this, e) || this), \"_map\", void 0), s(c(o), \"_el\", void 0), s(c(o), \"_popup\", void 0), o._el = document.createElement(\"div\"), o;\n  }\n\n  p(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    var t = this.props,\n        e = t.longitude,\n        o = t.latitude,\n        r = t.offset,\n        n = t.closeButton,\n        i = t.closeOnClick,\n        a = t.onClose,\n        s = t.anchor;\n    this._popup = new m.Popup({\n      offset: r,\n      closeButton: n,\n      closeOnClick: i,\n      anchor: s\n    }), this._popup.setDOMContent(this._el), this._popup.setLngLat([e, o]).addTo(this._map), a && this._popup.on(\"close\", a);\n  }, r.componentDidUpdate = function (t) {\n    (t.latitude !== this.props.latitude || t.longitude !== this.props.longitude) && this._popup.setLngLat([this.props.longitude, this.props.latitude]);\n  }, r.componentWillUnmount = function () {\n    this._map && this._map.getStyle() && this._popup.remove();\n  }, r.getPopup = function () {\n    return this._popup;\n  }, r.render = function () {\n    var t = this;\n    return e(h.Consumer, {}, function (e) {\n      return e && (t._map = e), a(t.props.children, t._el);\n    });\n  }, o;\n}(o);\n\ns(x, \"displayName\", \"Popup\"), s(x, \"defaultProps\", {\n  closeButton: !0,\n  closeOnClick: !0,\n  onClose: null,\n  anchor: null,\n  offset: null\n});\n\nvar O = function (t) {\n  function o(e) {\n    var o;\n    return s(c(o = t.call(this, e) || this), \"_map\", void 0), s(c(o), \"_el\", void 0), s(c(o), \"_marker\", void 0), s(c(o), \"_onDragEnd\", function () {\n      o.props.onDragEnd(o._marker.getLngLat());\n    }), s(c(o), \"_onDragStart\", function () {\n      o.props.onDragStart(o._marker.getLngLat());\n    }), s(c(o), \"_onDrag\", function () {\n      o.props.onDrag(o._marker.getLngLat());\n    }), o._el = document.createElement(\"div\"), o;\n  }\n\n  p(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    var t = this.props,\n        e = t.longitude,\n        o = t.latitude,\n        r = t.offset,\n        n = t.draggable,\n        i = t.onDragEnd,\n        a = t.onDragStart,\n        s = t.onDrag;\n    this._marker = new m.Marker(this._el, {\n      draggable: n,\n      offset: r\n    }), this._marker.setLngLat([e, o]).addTo(this._map), i && this._marker.on(\"dragend\", this._onDragEnd), a && this._marker.on(\"dragstart\", this._onDragStart), s && this._marker.on(\"drag\", this._onDrag);\n  }, r.componentDidUpdate = function (t) {\n    (t.latitude !== this.props.latitude || t.longitude !== this.props.longitude) && this._marker.setLngLat([this.props.longitude, this.props.latitude]);\n  }, r.componentWillUnmount = function () {\n    this._map && this._map.getStyle() && this._marker.remove();\n  }, r.getMarker = function () {\n    return this._marker;\n  }, r.render = function () {\n    var t = this;\n    return e(h.Consumer, {}, function (e) {\n      return e && (t._map = e), a(t.props.children, t._el);\n    });\n  }, o;\n}(o);\n\ns(O, \"displayName\", \"Marker\"), s(O, \"defaultProps\", {\n  offset: null,\n  draggable: !1\n});\n\nvar D = function (t) {\n  function o() {\n    for (var e, o = arguments.length, r = new Array(o), n = 0; n < o; n++) r[n] = arguments[n];\n\n    return s(c(e = t.call.apply(t, [this].concat(r)) || this), \"_map\", void 0), e;\n  }\n\n  p(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    var t = this._map,\n        e = this.props,\n        o = e.id,\n        r = e.source,\n        n = e.sourceLayer,\n        i = e.state;\n    t.setFeatureState({\n      id: o,\n      source: r,\n      sourceLayer: n\n    }, i);\n  }, r.componentDidUpdate = function (t) {\n    var e = this._map,\n        o = this.props,\n        r = o.id,\n        n = o.source,\n        i = o.sourceLayer,\n        a = o.state;\n    r === t.id && n === t.source && i === t.sourceLayer && a === t.state || (e.removeFeatureState({\n      id: t.id,\n      source: t.source,\n      sourceLayer: t.sourceLayer\n    }), e.setFeatureState({\n      id: r,\n      source: n,\n      sourceLayer: i\n    }, a));\n  }, r.componentWillUnmount = function () {\n    if (this._map && this._map.getStyle()) {\n      var t = this.props,\n          e = t.id,\n          o = t.source,\n          r = t.sourceLayer;\n\n      this._map.removeFeatureState({\n        id: e,\n        source: o,\n        sourceLayer: r\n      });\n    }\n  }, r.render = function () {\n    var t = this;\n    return e(h.Consumer, {}, function (e) {\n      return e && (t._map = e), null;\n    });\n  }, o;\n}(o),\n    U = function (t) {\n  function o() {\n    for (var e, o = arguments.length, r = new Array(o), n = 0; n < o; n++) r[n] = arguments[n];\n\n    return s(c(e = t.call.apply(t, [this].concat(r)) || this), \"_map\", void 0), s(c(e), \"_control\", void 0), e;\n  }\n\n  p(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    var t = this._map,\n        e = this.props,\n        o = e.compact,\n        r = e.customAttribution,\n        n = e.position,\n        i = new m.AttributionControl({\n      compact: o,\n      customAttribution: r\n    });\n    t.addControl(i, n), this._control = i;\n  }, r.componentWillUnmount = function () {\n    this._map && this._map.getStyle() && this._map.removeControl(this._control);\n  }, r.getControl = function () {\n    return this._control;\n  }, r.render = function () {\n    var t = this;\n    return e(h.Consumer, {}, function (e) {\n      return e && (t._map = e), null;\n    });\n  }, o;\n}(o);\n\ns(U, \"defaultProps\", {\n  position: \"bottom-right\"\n});\n\nvar j = function (t) {\n  function o() {\n    for (var e, o = arguments.length, r = new Array(o), n = 0; n < o; n++) r[n] = arguments[n];\n\n    return s(c(e = t.call.apply(t, [this].concat(r)) || this), \"_map\", void 0), s(c(e), \"_control\", void 0), e;\n  }\n\n  p(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    var t = this._map,\n        e = this.props,\n        o = e.container,\n        r = e.position,\n        n = new m.FullscreenControl({\n      container: o\n    });\n    t.addControl(n, r), this._control = n;\n  }, r.componentWillUnmount = function () {\n    this._map && this._map.getStyle() && this._map.removeControl(this._control);\n  }, r.getControl = function () {\n    return this._control;\n  }, r.render = function () {\n    var t = this;\n    return e(h.Consumer, {}, function (e) {\n      return e && (t._map = e), null;\n    });\n  }, o;\n}(o);\n\ns(j, \"defaultProps\", {\n  position: \"top-right\"\n});\n\nvar E = function (t) {\n  function o() {\n    for (var e, o = arguments.length, r = new Array(o), n = 0; n < o; n++) r[n] = arguments[n];\n\n    return s(c(e = t.call.apply(t, [this].concat(r)) || this), \"_map\", void 0), s(c(e), \"_control\", void 0), e;\n  }\n\n  p(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    var t = this._map,\n        e = this.props,\n        o = e.positionOptions,\n        r = e.fitBoundsOptions,\n        n = e.trackUserLocation,\n        i = e.showUserLocation,\n        a = e.position,\n        s = e.onTrackUserLocationEnd,\n        u = e.onTrackUserLocationStart,\n        p = e.onError,\n        l = e.onGeolocate,\n        c = new m.GeolocateControl({\n      positionOptions: o,\n      fitBoundsOptions: r,\n      trackUserLocation: n,\n      showUserLocation: i\n    });\n    s && c.on(\"trackuserlocationend\", s), u && c.on(\"trackuserlocationstart\", u), p && c.on(\"error\", p), l && c.on(\"geolocate\", l), t.addControl(c, a), this._control = c;\n  }, r.componentWillUnmount = function () {\n    this._map && this._map.getStyle() && this._map.removeControl(this._control);\n  }, r.getControl = function () {\n    return this._control;\n  }, r.render = function () {\n    var t = this;\n    return e(h.Consumer, {}, function (e) {\n      return e && (t._map = e), null;\n    });\n  }, o;\n}(o);\n\ns(E, \"defaultProps\", {\n  positionOptions: {\n    enableHighAccuracy: !1,\n    timeout: 6e3\n  },\n  fitBoundsOptions: {\n    maxZoom: 15\n  },\n  trackUserLocation: !1,\n  showUserLocation: !0\n});\n\nvar M = function (t) {\n  function o() {\n    for (var e, o = arguments.length, r = new Array(o), n = 0; n < o; n++) r[n] = arguments[n];\n\n    return s(c(e = t.call.apply(t, [this].concat(r)) || this), \"_map\", void 0), s(c(e), \"_control\", void 0), e;\n  }\n\n  p(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    var t = this._map,\n        e = this.props,\n        o = e.showCompass,\n        r = e.showZoom,\n        n = e.position,\n        i = new m.NavigationControl({\n      showCompass: o,\n      showZoom: r\n    });\n    t.addControl(i, n), this._control = i;\n  }, r.componentWillUnmount = function () {\n    this._map && this._map.getStyle() && this._map.removeControl(this._control);\n  }, r.getControl = function () {\n    return this._control;\n  }, r.render = function () {\n    var t = this;\n    return e(h.Consumer, {}, function (e) {\n      return e && (t._map = e), null;\n    });\n  }, o;\n}(o);\n\ns(M, \"defaultProps\", {\n  position: \"top-right\"\n});\n\nvar P = function (t) {\n  function o() {\n    for (var e, o = arguments.length, r = new Array(o), n = 0; n < o; n++) r[n] = arguments[n];\n\n    return s(c(e = t.call.apply(t, [this].concat(r)) || this), \"_map\", void 0), s(c(e), \"_control\", void 0), e;\n  }\n\n  p(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    var t = this._map,\n        e = this.props,\n        o = e.maxWidth,\n        r = e.unit,\n        n = e.position,\n        i = new m.ScaleControl({\n      maxWidth: o,\n      unit: r\n    });\n    t.addControl(i, n), this._control = i;\n  }, r.componentWillUnmount = function () {\n    this._map && this._map.getStyle() && this._map.removeControl(this._control);\n  }, r.getControl = function () {\n    return this._control;\n  }, r.render = function () {\n    var t = this;\n    return e(h.Consumer, {}, function (e) {\n      return e && (t._map = e), null;\n    });\n  }, o;\n}(o);\n\ns(P, \"defaultProps\", {\n  position: \"bottom-right\",\n  unit: \"metric\"\n});\n\nvar T,\n    F = (function (t) {\n  function e(t) {\n    if (t = Object.assign({}, t), !(this instanceof e)) throw new Error(\"MapboxLanguage needs to be called with the new keyword\");\n    this.setLanguage = this.setLanguage.bind(this), this._initialStyleUpdate = this._initialStyleUpdate.bind(this), this._defaultLanguage = t.defaultLanguage, this._isLanguageField = t.languageField || /^\\{name/, this._getLanguageField = t.getLanguageField || function (t) {\n      return \"mul\" === t ? \"{name}\" : \"{name_\" + t + \"}\";\n    }, this._languageSource = t.languageSource || null, this._languageTransform = t.languageTransform || function (t, e) {\n      return \"ar\" === e ? function (t) {\n        var e = t.layers.map(function (t) {\n          if (!(t.layout || {})[\"text-field\"]) return t;\n          return Object.assign({}, t, {\n            layout: Object.assign({}, t.layout, {\n              \"text-letter-spacing\": 0\n            })\n          });\n        });\n        return Object.assign({}, t, {\n          layers: e\n        });\n      }(t) : function (t) {\n        var e = t.layers.map(function (t) {\n          if (!(t.layout || {})[\"text-field\"]) return t;\n          var e = 0;\n          return \"state_label\" === t[\"source-layer\"] && (e = .15), \"marine_label\" === t[\"source-layer\"] && (/-lg/.test(t.id) && (e = .25), /-md/.test(t.id) && (e = .15), /-sm/.test(t.id) && (e = .1)), \"place_label\" === t[\"source-layer\"] && (/-suburb/.test(t.id) && (e = .15), /-neighbour/.test(t.id) && (e = .1), /-islet/.test(t.id) && (e = .01)), \"airport_label\" === t[\"source-layer\"] && (e = .01), \"rail_station_label\" === t[\"source-layer\"] && (e = .01), \"poi_label\" === t[\"source-layer\"] && /-scalerank/.test(t.id) && (e = .01), \"road_label\" === t[\"source-layer\"] && (/-label-/.test(t.id) && (e = .01), /-shields/.test(t.id) && (e = .05)), Object.assign({}, t, {\n            layout: Object.assign({}, t.layout, {\n              \"text-letter-spacing\": e\n            })\n          });\n        });\n        return Object.assign({}, t, {\n          layers: e\n        });\n      }(t);\n    }, this._excludedLayerIds = t.excludedLayerIds || [], this.supportedLanguages = t.supportedLanguages || [\"ar\", \"en\", \"es\", \"fr\", \"de\", \"ja\", \"ko\", \"mul\", \"pt\", \"ru\", \"zh\"];\n  }\n\n  function o(t, e, o) {\n    if (function (t, e) {\n      return \"string\" == typeof e && t.test(e);\n    }(t, e)) return o;\n\n    if (function (t, e) {\n      return e.stops && e.stops.filter(function (e) {\n        return t.test(e[1]);\n      }).length > 0;\n    }(t, e)) {\n      var r = e.stops.map(function (e) {\n        return t.test(e[1]) ? [e[0], o] : e;\n      });\n      return Object.assign({}, e, {\n        stops: r\n      });\n    }\n\n    return e;\n  }\n\n  e.prototype.setLanguage = function (t, e) {\n    if (this.supportedLanguages.indexOf(e) < 0) throw new Error(\"Language \" + e + \" is not supported\");\n\n    var r = this._languageSource || function (t) {\n      return Object.keys(t.sources).filter(function (e) {\n        var o = t.sources[e];\n        return /mapbox-streets-v\\d/.test(o.url);\n      })[0];\n    }(t);\n\n    if (!r) return t;\n\n    var n = this._getLanguageField(e),\n        i = this._isLanguageField,\n        a = this._excludedLayerIds,\n        s = t.layers.map(function (t) {\n      return t.source === r ? function (t, e, r, n) {\n        return e.layout && e.layout[\"text-field\"] && -1 === n.indexOf(e.id) ? Object.assign({}, e, {\n          layout: Object.assign({}, e.layout, {\n            \"text-field\": o(t, e.layout[\"text-field\"], r)\n          })\n        }) : e;\n      }(i, t, n, a) : t;\n    }),\n        u = Object.assign({}, t, {\n      layers: s\n    });\n\n    return this._languageTransform(u, e);\n  }, e.prototype._initialStyleUpdate = function () {\n    var t = this._map.getStyle(),\n        e = this._defaultLanguage || function (t) {\n      var e = navigator.languages ? navigator.languages[0] : navigator.language || navigator.userLanguage,\n          o = e.split(\"-\"),\n          r = e;\n      o.length > 1 && (r = o[0]);\n      if (t.indexOf(r) > -1) return r;\n      return null;\n    }(this.supportedLanguages);\n\n    this._map.off(\"styledata\", this._initialStyleUpdate), this._map.setStyle(this.setLanguage(t, e));\n  }, e.prototype.onAdd = function (t) {\n    return this._map = t, this._map.on(\"styledata\", this._initialStyleUpdate), this._container = document.createElement(\"div\"), this._container;\n  }, e.prototype.onRemove = function () {\n    this._map.off(\"styledata\", this._initialStyleUpdate), this._map = void 0;\n  }, t.exports = e;\n}(T = {\n  exports: {}\n}, T.exports), T.exports),\n    z = function (t) {\n  function o() {\n    for (var e, o = arguments.length, r = new Array(o), n = 0; n < o; n++) r[n] = arguments[n];\n\n    return s(c(e = t.call.apply(t, [this].concat(r)) || this), \"_map\", void 0), s(c(e), \"_control\", void 0), s(c(e), \"_setLanguage\", function () {\n      var t = e.props.language,\n          o = e._map,\n          r = e._control;\n      t && o.setStyle(r.setLanguage(o.getStyle(), t));\n    }), e;\n  }\n\n  p(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    var t = this._map,\n        e = this.props,\n        o = e.supportedLanguages,\n        r = e.languageTransform,\n        n = e.languageField,\n        i = e.getLanguageField,\n        a = e.languageSource,\n        s = e.defaultLanguage,\n        u = new F({\n      supportedLanguages: o,\n      languageTransform: r,\n      languageField: n,\n      getLanguageField: i,\n      languageSource: a,\n      defaultLanguage: s\n    });\n    t.addControl(u), this._control = u;\n  }, r.componentDidUpdate = function (t) {\n    t.language !== this.props.language && this._setLanguage();\n  }, r.componentWillUnmount = function () {\n    this._map && this._map.getStyle() && this._map.removeControl(this._control);\n  }, r.getControl = function () {\n    return this._control;\n  }, r.render = function () {\n    var t = this;\n    return e(h.Consumer, {}, function (e) {\n      return e && (t._map = e), null;\n    });\n  }, o;\n}(o);\n\ns(z, \"defaultProps\", {});\nexport default S;\nexport { U as AttributionControl, b as CustomLayer, D as FeatureState, j as FullscreenControl, E as GeolocateControl, z as LanguageControl, y as Layer, h as MapContext, O as Marker, M as NavigationControl, x as Popup, P as ScaleControl, k as Source };","map":null,"metadata":{},"sourceType":"module"}